import{_ as k,u as x,r as b,R as w,o as P,c as n,b as r,d as s,e as t,w as i,f as d,Y as z,i as p,t as _,l as B,G as C,F,E as I,k as M,n as N,h as S}from"./index-BNZe5Fbc.js";import{u as U}from"./useToast-BHrU_uqz.js";const V={class:"my-playlists"},E={class:"header glass"},T={class:"header-content"},D={class:"icon-wrapper"},G={class:"header-info"},L={class:"stats"},R={class:"content"},Y={key:0,class:"loading"},$={key:1,class:"empty"},j={key:2,class:"playlist-grid"},q={class:"cover-wrapper"},A={class:"play-count"},H={class:"playlist-info"},J={class:"playlist-name"},K={class:"creator"},O={__name:"MyPlaylists",setup(Q){const c=x(),y=U(),u=b(!0),f=w(()=>{const e=c.userId;return c.playlists.filter(o=>{var a;return((a=o.creator)==null?void 0:a.userId)!==e})}),h=e=>e>=1e8?(e/1e8).toFixed(1)+"亿":e>=1e4?(e/1e4).toFixed(1)+"万":e;return P(async()=>{try{u.value=!0,c.playlists.length===0&&await c.fetchUserPlaylist()}catch(e){console.error("获取歌单失败:",e),y.error("加载失败")}finally{u.value=!1}}),(e,o)=>{const a=p("el-icon"),m=p("el-image"),g=p("router-link");return r(),n("div",V,[s("div",E,[s("div",T,[s("div",D,[t(a,{size:60,color:"#fff"},{default:i(()=>[t(d(z))]),_:1})]),s("div",G,[o[0]||(o[0]=s("h1",null,"收藏的歌单",-1)),s("p",L,_(f.value.length)+" 个歌单",1)])])]),s("div",R,[u.value?(r(),n("div",Y,[t(a,{class:"is-loading",size:40},{default:i(()=>[t(d(B))]),_:1}),o[1]||(o[1]=s("p",null,"加载中...",-1))])):f.value.length===0?(r(),n("div",$,[t(a,{size:80},{default:i(()=>[t(d(C))]),_:1}),o[2]||(o[2]=s("p",null,"还没有收藏的歌单",-1))])):(r(),n("div",j,[(r(!0),n(F,null,I(f.value,l=>(r(),M(g,{key:l.id,to:`/playlist/${l.id}`,class:"playlist-card glass"},{default:i(()=>{var v;return[s("div",q,[t(m,{src:l.coverImgUrl,fit:"cover",class:"cover",lazy:""},null,8,["src"]),s("div",A,[t(a,null,{default:i(()=>[t(d(S))]),_:1}),N(" "+_(h(l.playCount)),1)])]),s("div",H,[s("div",J,_(l.name),1),s("div",K,"by "+_((v=l.creator)==null?void 0:v.nickname),1)])]}),_:2},1032,["to"]))),128))]))])])}}},Z=k(O,[["__scopeId","data-v-4855fba7"]]);export{Z as default};
