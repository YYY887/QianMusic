import{_ as M,y as R,r as g,o as $,c as v,b as f,d as s,j as E,e as t,w as i,f as n,l as I,i as h,t as c,s as L,X as P,n as b,H as z,D as T,F as j,E as H,L as U,v as A,I as X}from"./index-BNZe5Fbc.js";const q={class:"artist"},G={class:"container"},J={key:0,class:"loading"},K={key:1,class:"artist-content"},O={class:"artist-header glass"},Q={class:"cover-section"},W={class:"info-section"},Y={class:"artist-name"},Z={class:"artist-stats"},ss={class:"stat-item"},ts={class:"stat-item"},es={class:"action-buttons"},as={class:"songs-section"},os={class:"section-title"},ns={class:"song-list glass"},ls=["onClick"],is={class:"song-index"},cs={class:"index-number"},rs={class:"song-main"},ds={class:"song-info"},_s={class:"song-name"},us={class:"song-album"},vs={class:"song-duration"},fs={__name:"Artist",setup(ms){const D=U(),u=R(),r=g(null),d=g([]),m=g(!0),N=async()=>{var o,a;try{m.value=!0;const e=D.params.id,[_,p]=await Promise.all([A.getArtistDetail(e),A.getArtistTopSongs(e)]);r.value=(o=_.data)==null?void 0:o.artist,d.value=((a=p.songs)==null?void 0:a.slice(0,50))||[]}catch(e){console.error("获取歌手详情失败:",e)}finally{m.value=!1}},V=o=>{u.playSong(o,d.value)},w=()=>{d.value.length>0&&u.playSong(d.value[0],d.value)},B=o=>{const a=Math.floor(o/1e3),e=Math.floor(a/60),_=a%60;return`${e}:${_.toString().padStart(2,"0")}`},y=o=>o>=1e4?(o/1e4).toFixed(1)+"万":o;return $(()=>{N()}),(o,a)=>{const e=h("el-icon"),_=h("el-image"),p=h("el-button");return f(),v("div",q,[s("div",G,[m.value?(f(),v("div",J,[t(e,{class:"is-loading",size:50},{default:i(()=>[t(n(I))]),_:1}),a[0]||(a[0]=s("p",null,"加载中...",-1))])):r.value?(f(),v("div",K,[s("div",O,[s("div",Q,[t(_,{src:r.value.cover,fit:"cover",class:"cover"},null,8,["src"])]),s("div",W,[s("h1",Y,c(r.value.name),1),s("div",Z,[s("div",ss,[t(e,null,{default:i(()=>[t(n(L))]),_:1}),s("span",null,c(y(r.value.musicSize))+" 首歌曲",1)]),s("div",ts,[t(e,null,{default:i(()=>[t(n(P))]),_:1}),s("span",null,c(y(r.value.albumSize))+" 张专辑",1)])]),s("div",es,[t(p,{type:"danger",size:"large",onClick:w,round:""},{default:i(()=>[t(e,null,{default:i(()=>[t(n(z))]),_:1}),a[1]||(a[1]=b(" 播放全部 ",-1))]),_:1})])])]),s("div",as,[s("h2",os,[t(e,null,{default:i(()=>[t(n(T))]),_:1}),a[2]||(a[2]=b(" 热门歌曲 ",-1))]),s("div",ns,[(f(!0),v(j,null,H(d.value,(l,F)=>{var S,k,x,C;return f(),v("div",{key:l.id,class:X(["song-item",{active:((S=n(u).currentSong)==null?void 0:S.id)===l.id,playing:((k=n(u).currentSong)==null?void 0:k.id)===l.id&&n(u).playing}]),onClick:ps=>V(l)},[s("div",is,[s("span",cs,c(String(F+1).padStart(2,"0")),1),t(e,{class:"play-indicator"},{default:i(()=>[t(n(z))]),_:1})]),s("div",rs,[t(_,{src:(x=l.al)==null?void 0:x.picUrl,fit:"cover",class:"song-cover",lazy:""},null,8,["src"]),s("div",ds,[s("div",_s,c(l.name),1),s("div",us,c((C=l.al)==null?void 0:C.name),1)])]),s("div",vs,c(B(l.dt)),1)],10,ls)}),128))])])])):E("",!0)])])}}},hs=M(fs,[["__scopeId","data-v-2df20c4c"]]);export{hs as default};
