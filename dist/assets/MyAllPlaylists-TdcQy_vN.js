import{_ as u,u as p,r as v,o as f,c as i,b as l,d as s,t as r,f as c,F as y,E as g,i as m,k,w,n as x}from"./index-BNZe5Fbc.js";import{u as C}from"./useToast-BHrU_uqz.js";const B={class:"my-all-playlists"},M={class:"header glass"},V={class:"header-content"},z={class:"header-info"},F={class:"stats"},P={class:"content"},S={key:0,class:"loading"},H={key:1,class:"empty"},L={key:2,class:"playlist-grid"},U={class:"cover-wrapper"},A=["src"],E={class:"play-count"},I={class:"playlist-info"},N={class:"playlist-name"},T={class:"track-count"},b={__name:"MyAllPlaylists",setup(D){const a=p(),d=C(),n=v(!0),_=e=>e>=1e8?(e/1e8).toFixed(1)+"亿":e>=1e4?(e/1e4).toFixed(1)+"万":e;return f(async()=>{try{n.value=!0,a.playlists.length===0&&await a.fetchUserPlaylist()}catch(e){console.error("获取歌单失败:",e),d.error("加载失败")}finally{n.value=!1}}),(e,t)=>{const h=m("router-link");return l(),i("div",B,[s("div",M,[s("div",V,[t[1]||(t[1]=s("div",{class:"icon-wrapper"},[s("svg",{viewBox:"0 0 24 24",width:"60",height:"60"},[s("path",{fill:"#fff",d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"})])],-1)),s("div",z,[t[0]||(t[0]=s("h1",null,"我的歌单",-1)),s("p",F,r(c(a).playlists.length)+" 个歌单",1)])])]),s("div",P,[n.value?(l(),i("div",S,[...t[2]||(t[2]=[s("div",{class:"spinner"},null,-1),s("p",null,"加载中...",-1)])])):c(a).playlists.length===0?(l(),i("div",H,[...t[3]||(t[3]=[s("svg",{viewBox:"0 0 24 24",width:"80",height:"80"},[s("path",{fill:"currentColor",d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"})],-1),s("p",null,"还没有歌单",-1)])])):(l(),i("div",L,[(l(!0),i(y,null,g(c(a).playlists,o=>(l(),k(h,{key:o.id,to:`/playlist/${o.id}`,class:"playlist-card glass"},{default:w(()=>[s("div",U,[s("img",{src:o.coverImgUrl,class:"cover",loading:"lazy"},null,8,A),s("div",E,[t[4]||(t[4]=s("svg",{viewBox:"0 0 24 24",width:"14",height:"14"},[s("path",{fill:"currentColor",d:"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z"})],-1)),x(" "+r(_(o.playCount)),1)])]),s("div",I,[s("div",N,r(o.name),1),s("div",T,r(o.trackCount)+" 首",1)])]),_:2},1032,["to"]))),128))]))])])}}},q=u(b,[["__scopeId","data-v-756ee978"]]);export{q as default};
